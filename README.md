# lac

# hw2

cd 2_raid && vagrant up

# hw3 

```
На имеĀщемсā образе centos/7 - v. 1804.2
1) Уменþшитþ том под / до 8G
2) Вýделитþ том под /home
3) Вýделитþ том под /var - сделатþ в mirror
4) /home - сделатþ том длā снапшотов
5) Прописатþ монтирование в fstab. Попробоватþ с разнýми опциāми и разнýми
файловýми системами ( на вýбор)
Работа со снапшотами:
- сгенеритþ файлý в /home/
- снāтþ снапшот
- удалитþ частþ файлов
- восстановитсā со снапшота
- залоггироватþ работу можно с помощþĀ утилитý script
```
лог - 3_lvm/log

# hw4

```
Vagrant стенд для NFS или SAMBA
NFS или SAMBA на выбор:

vagrant up должен поднимать 2 виртуалки: сервер и клиент
на сервер должна быть расшарена директория
на клиента она должна автоматически монтироваться при старте (fstab или autofs)
в шаре должна быть папка upload с правами на запись
- требования для NFS: NFSv3 по UDP, включенный firewall
```
cd 4_nfs && vagrant up

# hw5

```
Размещаем свой RPM в своем репозитории
1) создать свой RPM (можно взять свое приложение, либо собрать к примеру апач с определенными опциями)
2) создать свой репо и разместить там свой RPM
реализовать это все либо в вагранте, либо развернуть у себя через nginx и дать ссылку на репо

* реализовать дополнительно пакет через docker
Критерии оценки: 5 - есть репо и рпм
+1 - сделан еще и докер образ
```
cd 5_rpm && vagrant up
docker image --> https://hub.docker.com/r/impel1o/nginx

# hw6

```
Работа с загрузчиком
1. Попасть в систему без пароля несколькими способами
2. Установить систему с LVM, после чего переименовать VG
3. Добавить модуль в initrd

4(*). Сконфигурировать систему без отдельного раздела с /boot, а только с LVM
Репозиторий с пропатченым grub: https://yum.rumyantsev.com/centos/7/x86_64/
PV необходимо инициализировать с параметром --bootloaderareasize 1m
Критерии оценки: Описать действия, описать разницу между методами получения шелла в процессе загрузки.
Где получится - используем script, где не получается - словами или копипастой описываем действия
```

# hw7
```
Пишем скрипт
написать скрипт для крона
который раз в час присылает на заданную почту
- X IP адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта
- Y запрашиваемых адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта
- все ошибки c момента последнего запуска
- список всех кодов возврата с указанием их кол-ва с момента последнего запуска
в письме должно быть прописан обрабатываемый временной диапазон
должна быть реализована защита от мультизапуска
Критерии оценки:
трапы и функции, а также sed и find +1 балл
```

#hw8 - zfs

```
Определить алгоритм с наилучшим сжатием
Зачем:
Отрабатываем навыки работы с созданием томов и установкой параметров. Находим наилучшее сжатие.


Шаги:
определить какие алгоритмы сжатия поддерживает zfs (gzip gzip-N, zle lzjb, lz4)
создать 4 файловых системы на каждой применить свой алгоритм сжатия
	Для сжатия использовать либо текстовый файл либо группу файлов:
скачать файл “Война и мир” и расположить на файловой системе
wget -O War_and_Peace.txt http://www.gutenberg.org/ebooks/2600.txt.utf-8
либо скачать файл ядра распаковать и расположить на файловой системе 
Результат:
список команд которыми получен результат с их выводами
вывод команды из которой видно какой из алгоритмов лучше
```


```
Определить настройки pool’a
	Зачем:
Для переноса дисков между системами используется функция export/import. Отрабатываем навыки работы с файловой системой ZFS
Шаги:
Загрузить архив с файлами локально. 
https://drive.google.com/open?id=1KRBNW33QWqbvbVHa3hLJivOAt60yukkg 
Распаковать. 
С помощью команды zfs import собрать pool ZFS.
Командами zfs определить настройки
размер хранилища
тип pool
значение recordsize
какое сжатие используется
какая контрольная сумма используется 
Результат:
список команд которыми восстановили pool . Желательно с  Output команд.
файл с описанием настроек settings
```

```
Найти сообщение от преподавателей 
Зачем:
для бэкапа используются технологии snapshot. Snapshot можно передавать между хостами и восстанавливать с помощью send/receive. Отрабатываем навыки восстановления snapshot и переноса файла.
Шаги:
Скопировать файл из удаленной директории.   https://drive.google.com/file/d/1gH8gCL9y7Nd5Ti3IRmplZPF1XjzxeRAG/view?usp=sharing 
	Файл был получен командой
zfs send otus/storage@task2 > otus_task2.file
Восстановить его локально. zfs receive
Найти зашифрованное сообщение в файле secret_message
Результат:
список шагов которыми восстанавливали 
зашифрованное сообщение

```